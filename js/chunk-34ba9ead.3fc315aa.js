(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34ba9ead"],{"0fac":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return r}));var c=a("b775");function i(t){return Object(c["a"])({url:"/topics",method:"get",params:t})}function r(t,e){return Object(c["a"])({url:"/topic/".concat(e),method:"get",params:t})}},3768:function(t,e,a){},8248:function(t,e,a){"use strict";a.r(e);var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail"},[a("div",{staticClass:"title"},[a("div",{staticClass:"title-head"},[t.articleData.good||t.articleData.top?a("span",{staticClass:"tab"},[t._v("\n                "+t._s(t.getArticleTab(t.articleData))+"\n            ")]):t._e(),a("span",{staticClass:"article-title"},[a("b",[t._v(t._s(t.articleData.title))])])]),a("div",{staticClass:"title-from"},[a("span",[t._v(" • 发布于 "+t._s(t._f("formatDate")(t.articleData.create_at))+" • 作者 "+t._s(t.articleData.author.loginname)+" • "+t._s(t.articleData.visit_count)+" 次浏览 • 来自 "+t._s(t.getTabFrom(t.articleData)))]),t.islogin?a("span",{staticClass:"collect",class:{decollect:t.articleData.is_collect},on:{click:t.toggleCollect}},[t._v(t._s(t.articleData.is_collect?"取消收藏":"收藏"))]):t._e()])]),a("div",{staticClass:"content markdown-text",domProps:{innerHTML:t._s(t.articleData.content)}}),a("div",{staticClass:"reply"},[a("div",{staticClass:"reply-title"},[t._v("\n            "+t._s(t.articleData.reply_count)+" 回复\n        ")]),a("ul",{staticClass:"reply-content"},t._l(t.articleData.replies,(function(e,c){return a("li",{key:e.id,staticClass:"reply-item"},[a("div",{staticClass:"avatar"},[a("router-link",{attrs:{to:{name:"User",params:{loginname:e.author.loginname}}}},[a("img",{attrs:{src:e.author.avatar_url,alt:"头像",title:e.author.loginname}})])],1),a("div",{staticClass:"reply-main"},[a("div",{staticClass:"author-msg"},[a("span",{staticClass:"author-name"},[t._v(t._s(e.author.loginname)+" ")]),a("span",{staticClass:"create-time"},[t._v(" "+t._s(c+1)+"楼 • "+t._s(t._f("formatDate")(e.create_at)))])]),a("div",{staticClass:"reply-msg"},[a("div",{domProps:{innerHTML:t._s(e.content)}})])])])})),0)])])},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),s=a("0fac"),n=a("960d"),o=a("2f62");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,c)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(a,!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={name:"Detail",data:function(){return{articleData:{id:"",author_id:"",tab:"",content:"",title:"",last_reply_at:"",good:!1,top:!1,reply_count:"",visit_count:"",create_at:"",author:{loginname:"",avatar_url:""},replies:[],is_collect:!1},listQuery:{mdrender:!0,accesstoken:this.accesstoken},id:this.$route.params.id}},computed:u({},Object(o["c"])(["islogin","accesstoken"])),created:function(){this.getArticle()},methods:{getArticle:function(){var t=this;Object(s["a"])(this.listQuery,this.id).then((function(e){t.articleData=e.data.data,console.log(t.articleData)}))},getTabFrom:function(t){return"share"===t.tab?"分享":"ask"===t.tab?"问答":"job"===t.tab?"招聘":"dev"===t.tab?"测试":void 0},getArticleTab:function(t){return t.top?"置顶":t.good?"精华":void 0},toggleCollect:function(){!1===this.articleData.is_collect&&Object(n["a"])({accesstoken:this.accesstoken,id:this.id}).then((function(t){console.log(t.data.success)})),!0===this.articleData.is_collect&&Object(n["b"])({accesstoken:this.accesstoken,id:this.id}).then((function(t){console.log(t.data.success)}))}}},p=d,f=(a("9839"),a("2877")),_=Object(f["a"])(p,c,i,!1,null,"613f5dd9",null);e["default"]=_.exports},"960d":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return s}));var c=a("b775");function i(t){return Object(c["a"])({url:"/topic_collect/collect",method:"post",data:t})}function r(t){return Object(c["a"])({url:"/topic_collect/de_collect/",method:"post",data:t})}function s(t){return Object(c["a"])({url:"/topic_collect/".concat(t),method:"get"})}},9839:function(t,e,a){"use strict";var c=a("3768"),i=a.n(c);i.a}}]);
//# sourceMappingURL=chunk-34ba9ead.3fc315aa.js.map